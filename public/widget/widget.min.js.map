{"version":3,"names":["config","widgetId","apiUrl","scripts","document","getElementsByTagName","i","length","src","includes","URL","origin","window","location","getScriptOrigin","position","primaryColor","textColor","greeting","placeholder","title","subtitle","offlineMessage","storageKey","maxHistoryLength","avatarType","avatarIcon","avatarUrl","showBranding","brandingText","CSAIConfig","isOpen","isLoading","chatHistory","sessionId","generateSessionId","Math","random","toString","substr","Date","now","adjustColor","color","amount","hex","replace","num","parseInt","min","max","slice","createWidget","widget","createElement","className","id","innerHTML","icons","robot","support","user","getAvatarHtml","body","appendChild","addMessage","role","content","skipHistory","messagesEl","getElementById","messageEl","text","placeholders","match","push","code","substring","parseMarkdown","textContent","scrollTop","scrollHeight","localStorage","setItem","JSON","stringify","history","e","console","warn","saveHistory","hideTyping","typingEl","remove","async","sendMessage","message","trim","sendBtn","disabled","showTyping","response","fetch","method","headers","map","m","data","json","success","error","toggleChat","windowEl","buttonEl","classList","add","focus","setTimeout","init","stored","getItem","parse","loadHistory","styles","styleEl","head","injectStyles","toggleBtn","closeBtn","inputEl","addEventListener","value","style","height","key","shiftKey","preventDefault","initEventListeners","forEach","msg","log","readyState"],"sources":["public/widget/widget.js"],"mappings":"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","ignoreList":[]}