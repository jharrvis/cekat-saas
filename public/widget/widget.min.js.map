{"version":3,"names":["console","log","scriptOrigin","scripts","document","getElementsByTagName","i","length","src","includes","URL","origin","e","warn","window","location","getScriptOrigin","config","widgetId","apiUrl","configUrl","position","primaryColor","textColor","greeting","placeholder","title","subtitle","offlineMessage","storageKey","maxHistoryLength","avatarType","avatarIcon","avatarUrl","showBranding","inactivityTimeout","closeOfferTimeout","enableEmoji","autoCloseEnabled","CSAIConfig","isOpen","isLoading","chatHistory","sessionId","inactivityTimer","closeOfferSent","closeOfferTimer","emojiPickerOpen","EMOJI_SET","Sering","Wajah","Gesture","Simbol","generateSessionId","Math","random","toString","substr","Date","now","resetInactivityTimer","clearTimeout","setTimeout","showCloseOffer","addMessage","toggleChat","adjustColor","color","amount","hex","replace","num","parseInt","min","max","slice","createWidget","widget","createElement","className","id","innerHTML","icons","robot","support","user","getAvatarHtml","categoriesHtml","gridsHtml","isFirst","category","emojis","Object","entries","forEach","emoji","createEmojiPickerHtml","body","appendChild","getElementById","windowEl","buttonEl","badgeEl","inputEl","classList","add","style","display","textContent","innerWidth","focus","messagesEl","scrollTop","scrollHeight","remove","toggleEmojiPicker","picker","role","content","skipHistory","isHtml","messageEl","text","placeholders","match","push","code","substring","parseMarkdown","localStorage","setItem","JSON","stringify","history","saveHistory","hideTyping","typingEl","async","sendMessage","message","trim","sendBtn","disabled","showTyping","response","fetch","method","headers","map","m","data","json","success","error","init","userConfig","ok","serverConfig","fetchConfig","allowedDomain","currentHost","hostname","toLowerCase","allowed","endsWith","startsWith","withoutWww","isDomainAllowed","stored","getItem","parse","loadHistory","styles","styleEl","head","injectStyles","toggleBtn","closeBtn","emojiBtn","addEventListener","stopPropagation","querySelectorAll","cat","c","target","dataset","value","height","key","shiftKey","preventDefault","contains","initEventListeners","msg","CSAI_continueChat","CSAI_endChat","removeItem","clearHistory","CSAI_insertEmoji","start","selectionStart","end","selectionEnd","before","after","dispatchEvent","Event","readyState"],"sources":["public/widget/widget.js"],"mappings":"CAcA,WACE,aAGAA,QAAQC,IAAI,kCAsBZ,MAAMC,EAnBN,WACE,MAAMC,EAAUC,SAASC,qBAAqB,UAC9C,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAQI,OAAQD,IAAK,CACvC,MAAME,EAAML,EAAQG,GAAGE,IAEvB,GAAIA,IAAQA,EAAIC,SAAS,kBAAoBD,EAAIC,SAAS,cAExD,IAEE,OADY,IAAIC,IAAIF,GACTG,MACb,CAAE,MAAOC,GACPZ,QAAQa,KAAK,mCACf,CAEJ,CAEA,OAAOC,OAAOC,SAASJ,MACzB,CAEqBK,GA+BrB,IAAIC,EAAS,IA5BS,CACpBC,SAAU,UACVC,OAAQjB,EAAe,YACvBkB,UAAWlB,EAAe,eAC1BmB,SAAU,eACVC,aAAc,UACdC,UAAW,UACXC,SAAU,8CACVC,YAAa,iBACbC,MAAO,mBACPC,SAAU,yCACVC,eAAgB,gEAChBC,WAAY,oBACZC,iBAAkB,GAElBC,WAAY,OACZC,WAAY,QACZC,UAAW,GAEXC,cAAc,EAEdC,kBAAmB,IACnBC,kBAAmB,IACnBC,aAAa,EACbC,kBAAkB,MAIiBxB,OAAOyB,YAAc,CAAC,GAGvDC,GAAS,EACTC,GAAY,EACZC,EAAc,GACdC,EAAY,KAIZC,EAAkB,KAClBC,GAAiB,EACjBC,EAAkB,KAClBC,GAAkB,EAGtB,MAAMC,EAAY,CAChBC,OAAU,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KACrDC,MAAS,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAChEC,QAAW,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACtDC,OAAU,CAAC,IAAK,IAAK,IAAK,KAAM,KAAM,KAAM,KAAM,OAwEpD,SAASC,IACP,MAAO,QAAUC,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,GAAKC,KAAKC,MAAMH,SAAS,GACjF,CA4CA,SAASI,IACFpB,GAAWvB,EAAOqB,mBAGnBM,GAAiBiB,aAAajB,GAC9BE,GAAiBe,aAAaf,GAElCD,GAAiB,EAGjBD,EAAkBkB,WAAWC,EAAgB9C,EAAOkB,mBACtD,CAGA,SAAS4B,IACP,IAAKvB,GAAUK,EAAgB,OAE/BA,GAAiB,EAUjBmB,EAAW,YARO,2TAQiB,GAAM,GAGzClB,EAAkBgB,WAAW,KACvBtB,GACFyB,KAEDhD,EAAOmB,kBACZ,CAuhBA,SAAS8B,EAAYC,EAAOC,GAC1B,MAAMC,EAAMF,EAAMG,QAAQ,IAAK,IACzBC,EAAMC,SAASH,EAAK,IAI1B,MAAO,KAAO,SAAgB,MAHpBf,KAAKmB,IAAI,IAAKnB,KAAKoB,IAAI,GAAIH,GAAO,IAAMH,IAGN,IAFlCd,KAAKmB,IAAI,IAAKnB,KAAKoB,IAAI,GAAKH,GAAO,EAAK,KAAUH,IAClDd,KAAKmB,IAAI,IAAKnB,KAAKoB,IAAI,GAAU,IAANH,GAAkBH,KACAZ,SAAS,IAAImB,MAAM,EAC5E,CA2DA,SAASC,IACP,MAAMC,EAASzE,SAAS0E,cAAc,OACtCD,EAAOE,UAAY,cACnBF,EAAOG,GAAK,cAEZH,EAAOI,UAAY,gyBA7DrB,WAEE,GAA0B,QAAtBhE,EAAOc,YAAwBd,EAAOgB,UACxC,MAAO,aAAahB,EAAOgB,8FAI7B,MAAMiD,EAAQ,CACZC,MAAO,ghBAGPC,QAAS,wPAGTC,KAAM,wVAKR,OAAOH,EAAMjE,EAAOe,aAAekD,EAAMC,KAC3C,CA0D0CG,gGAEDrE,EAAOS,0DACJT,EAAOU,qjBAezCV,EAAOoB,YAzEjB,WACE,IAAIkD,EAAiB,GACjBC,EAAY,GAGZC,GAAU,EAEd,IAAK,MAAOC,EAAUC,KAAWC,OAAOC,QAAQ7C,GAC9CuC,GAAkB,mCAAmCE,EAAU,SAAW,sBAAsBC,MAAaA,UAK7GC,EAAOG,QAAQC,IACbP,GAAa,kEAAkEO,QAAYA,YAG7FN,GAAU,EAGZ,MAAO,6IAGCF,uEAGAC,uCAIV,CA2C+BQ,GAA0B,6BAE/C/E,EAAOoB,YAAc,siBAMnB,uHAKapB,EAAOQ,kVAYxBR,EAAOiB,aAAe,mIAEd,yBAId9B,SAAS6F,KAAKC,YAAYrB,EAC5B,CAsBA,SAASZ,IACQ7D,SAAS+F,eAAe,eAAvC,MACMC,EAAWhG,SAAS+F,eAAe,eACnCE,EAAWjG,SAAS+F,eAAe,eACnCG,EAAUlG,SAAS+F,eAAe,cAClCI,EAAUnG,SAAS+F,eAAe,cAExC3D,GAAUA,EAENA,GACF4D,EAASI,UAAUC,IAAI,QACvBJ,EAASG,UAAUC,IAAI,QAEvBH,EAAQI,MAAMC,QAAU,OACxBL,EAAQM,YAAc,IAKlB9F,OAAO+F,YAAc,KACvBR,EAASG,UAAUC,IAAI,UAIzB3C,WAAW,KACLyC,GAASA,EAAQO,SACpB,KAGHhD,WAAW,KACT,MAAMiD,EAAa3G,SAAS+F,eAAe,iBACvCY,IAAYA,EAAWC,UAAYD,EAAWE,eACjD,KAGHrD,MAGAwC,EAASI,UAAUU,OAAO,QAC1Bb,EAASG,UAAUU,OAAO,QAC1Bb,EAASG,UAAUU,OAAO,UAGtBtE,GAAiBiB,aAAajB,GAC9BE,GAAiBe,aAAaf,GAClCD,GAAiB,EAErB,CAGA,SAASsE,IACP,MAAMC,EAAShH,SAAS+F,eAAe,qBAClCiB,IAELrE,GAAmBA,EACfA,EACFqE,EAAOZ,UAAUC,IAAI,QAErBW,EAAOZ,UAAUU,OAAO,QAG1BtD,IACF,CAGA,SAASI,EAAWqD,EAAMC,EAASC,GAAc,EAAOC,GAAS,GAC/D,MAAMT,EAAa3G,SAAS+F,eAAe,iBACrCsB,EAAYrH,SAAS0E,cAAc,OACzC2C,EAAU1C,UAAY,gBAAgBsC,IAGzB,cAATA,EAEAI,EAAUxC,UADRuC,EACoBF,EAoB5B,SAAuBI,GACrB,IAAKA,EAAM,MAAO,GAClB,IAAIC,EAAe,GAiDnB,OATAD,GAHAA,GADAA,GALAA,GAFAA,GAHAA,GAFAA,GAJAA,GAHAA,GADAA,GADAA,GANAA,GANAA,EAAOA,EAAKpD,QAAQ,oBAAqB,SAAUsD,GAEjD,OADAD,EAAaE,KAAKD,GACX,gBAAgBD,EAAapH,OAAS,KAC/C,IAIG+D,QAAQ,KAAM,SACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,SAGLA,QAAQ,aAAc,oBACtBA,QAAQ,mBAAoB,wBAC5BA,QAAQ,eAAgB,gBAGxBA,QAAQ,uBAAwB,0DAIhCA,QAAQ,kBAAmB,gCAE3BA,QAAQ,0CAA2C,gCAGnDA,QAAQ,sBAAuB,gCAE/BA,QAAQ,0CAA2C,gCAKnDA,QAAQ,MAAO,SACfA,QAAQ,qCAAsC,OAG9CA,QAAQ,wBAAyB,SAAUsD,EAAO5C,GAC5D,IAAI8C,EAAOH,EAAa3C,GAKxB,OAHA8C,EAAOA,EAAKC,UAAU,EAAGD,EAAKvH,OAAS,GAEvCuH,EAAOA,EAAKxD,QAAQ,KAAM,SAASA,QAAQ,KAAM,QAAQA,QAAQ,KAAM,QAChE,cAAcwD,gBACvB,EAGF,CAtE4BE,CAAcV,GAGtCG,EAAUb,YAAcU,EAG1BP,EAAWb,YAAYuB,GACvBV,EAAWC,UAAYD,EAAWE,aAE7BM,IACH7E,EAAYmF,KAAK,CAAER,OAAMC,YAx0B7B,WACE,IACEW,aAAaC,QAAQjH,EAAOY,WAAa,IAAMZ,EAAOC,SAAUiH,KAAKC,UAAU,CAC7EC,QAAS3F,EAAYiC,OAAO1D,EAAOa,kBACnCa,UAAWA,IAEf,CAAE,MAAO/B,GACPZ,QAAQa,KAAK,oCACf,CACF,CAg0BIyH,IAGF1E,GACF,CAqEA,SAAS2E,IACP,MAAMC,EAAWpI,SAAS+F,eAAe,eACrCqC,GAAUA,EAAStB,QACzB,CAGAuB,eAAeC,EAAYC,GACzB,GAAIlG,IAAckG,EAAQC,OAAQ,OAElCnG,GAAY,EACZ,MAAMoG,EAAUzI,SAAS+F,eAAe,aACxC0C,EAAQC,UAAW,EAGnB9E,EAAW,OAAQ2E,GAzBrB,WACE,MAAM5B,EAAa3G,SAAS+F,eAAe,iBACrCqC,EAAWpI,SAAS0E,cAAc,OACxC0D,EAASzD,UAAY,cACrByD,EAASxD,GAAK,cACdwD,EAASvD,UAAY,0CACrB8B,EAAWb,YAAYsC,GACvBzB,EAAWC,UAAYD,EAAWE,YACpC,CAoBE8B,GAEA,IACE,MAAMC,QAAiBC,MAAMhI,EAAOE,OAAQ,CAC1C+H,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBlD,KAAMkC,KAAKC,UAAU,CACnBO,QAASA,EACTzH,SAAUD,EAAOC,SACjBmH,QAAS3F,EAAY0G,IAAIC,IAAK,CAC5BhC,KAAMgC,EAAEhC,KACRC,QAAS+B,EAAE/B,WAEb3E,UAAWA,MAIT2G,QAAaN,EAASO,OAE5BhB,IAEIe,EAAKE,SAAWF,EAAKN,UACvBhF,EAAW,YAAasF,EAAKN,UACzBM,EAAK3G,YAAWA,EAAY2G,EAAK3G,YACb,mBAAf2G,EAAKG,MAEdzF,EAAW,YAAa,sJAExBA,EAAW,YAAasF,EAAKX,SAAWW,EAAKG,OAASxI,EAAOW,eAEjE,CAAE,MAAO6H,GACPzJ,QAAQyJ,MAAM,cAAeA,GAC7BlB,IACAvE,EAAW,YAAa/C,EAAOW,eACjC,CAAE,QACAa,GAAY,EACZoG,EAAQC,UAAW,CACrB,CACF,CAGA,SAAS7E,IACPzB,GAAUA,EACV,MAAM4D,EAAWhG,SAAS+F,eAAe,eACnCE,EAAWjG,SAAS+F,eAAe,eAErC3D,GACF4D,EAASI,UAAUC,IAAI,QACvBJ,EAASG,UAAUC,IAAI,QACvBrG,SAAS+F,eAAe,cAAcW,QAGX,IAAvBpE,EAAYnC,QACduD,WAAW,KACTE,EAAW,YAAa/C,EAAOO,UAE/B,MAAMuF,EAAa3G,SAAS+F,eAAe,iBACvCY,IAAYA,EAAWC,UAAYD,EAAWE,eACjD,KAILnD,WAAW,KACT,MAAMiD,EAAa3G,SAAS+F,eAAe,iBACvCY,IAAYA,EAAWC,UAAYD,EAAWE,eACjD,OAGHb,EAASI,UAAUU,OAAO,QAC1Bb,EAASG,UAAUU,OAAO,QAE9B,CAwFAuB,eAAeiB,IACb,GAAItJ,SAAS+F,eAAe,eAAgB,OAG5C,MAAMwD,EAAa7I,OAAOyB,YAAc,CAAC,EAQzC,GAPyBoH,EAAWzI,WAAayI,EAAWjI,OAEZ,YAAxBiI,EAAWzI,gBApqCrCuH,eAA2BvH,GACzB,IACE,MAAM8H,QAAiBC,MAAM/I,EAAe,eAAiBgB,EAAW,WACxE,GAAI8H,EAASY,GAAI,CACf,MAAMC,QAAqBb,EAASO,OAIpC,OAFAtI,EAAS,IAAKA,KAAW4I,GACzB5I,EAAOE,OAASjB,EAAe,aACxB,CACT,CACF,CAAE,MAAOU,GACPZ,QAAQa,KAAK,sCACf,CACA,OAAO,CACT,CAupCUiJ,CAAYH,EAAWzI,WAppCjC,WACE,MAAM6I,EAAgB9I,EAAO8I,eAAiB,GAG9C,IAAKA,GAA0C,KAAzBA,EAAcnB,OAClC,OAAO,EAGT,MAAMoB,EAAclJ,OAAOC,SAASkJ,SAASC,cACvCC,EAAUJ,EAAcG,cAActB,OAG5C,GAAoB,cAAhBoB,GAA+C,cAAhBA,EACjC,OAAO,EAIT,GAAIA,IAAgBG,EAClB,OAAO,EAKT,GAAIH,EAAYI,SAAS,IAAMD,GAC7B,OAAO,EAIT,GAAIA,EAAQE,WAAW,QAAS,CAC9B,MAAMC,EAAaH,EAAQpC,UAAU,GACrC,GAAIiC,IAAgBM,GAAcN,EAAYI,SAAS,IAAME,GAC3D,OAAO,CAEX,MACE,GAAIN,IAAgB,OAASG,EAC3B,OAAO,EAIX,OAAO,CACT,CAgnCOI,GAEH,OA9mCFvK,QAAQyJ,MAAM,qEACdzJ,QAAQyJ,MAAM,mBAAqB3I,OAAOC,SAASkJ,UACnDjK,QAAQyJ,MAAM,oBAAsBxI,EAAO8I,eAAiB,wBAC5D/J,QAAQyJ,MAAM,iEAShB,WACE,IACE,MAAMe,EAASvC,aAAawC,QAAQxJ,EAAOY,WAAa,IAAMZ,EAAOC,UACrE,GAAIsJ,EAAQ,CACV,MAAMlB,EAAOnB,KAAKuC,MAAMF,GACxB9H,EAAc4G,EAAKjB,SAAW,GAC9B1F,EAAY2G,EAAK3G,WAAaU,GAChC,MACEV,EAAYU,GAEhB,CAAE,MAAOzC,GACP+B,EAAYU,GACd,CACF,CAwlCEsH,GAzgCF,WACE,MAAMC,EAAS,idAkBT3J,EAAOI,SAASZ,SAAS,SAAW,eAAiB,0BACrDQ,EAAOI,SAASZ,SAAS,UAAY,gBAAkB,uIAInBQ,EAAOK,iBAAiB4C,EAAYjD,EAAOK,cAAe,meAmBxFL,EAAOM,21CAmDXN,EAAOI,SAASZ,SAAS,SAAW,eAAiB,mfAoBnBQ,EAAOK,iBAAiB4C,EAAYjD,EAAOK,cAAe,yBACvFL,EAAOM,2xDA2ERN,EAAOM,qzBAgCDN,EAAOK,iCACZL,EAAOM,k/EAyFAN,EAAOK,gDACCL,EAAOK,+gBAqBtBL,EAAOK,yJAOFL,EAAOK,kOAQZL,EAAOM,iGAIF2C,EAAYjD,EAAOK,cAAe,+vCAsDlCL,EAAOK,80BAsCDL,EAAOK,6DAElBL,EAAOK,+GAKFL,EAAOK,ijBAyBZL,EAAOK,ivBAmCduJ,EAAUzK,SAAS0E,cAAc,SACvC+F,EAAQ7F,GAAK,cACb6F,EAAQjE,YAAcgE,EApBF,ubAqBpBxK,SAAS0K,KAAK5E,YAAY2E,EAC5B,CAsgBEE,GACAnG,IA9FF,WACE,MAAMoG,EAAY5K,SAAS+F,eAAe,eACpC8E,EAAW7K,SAAS+F,eAAe,cACnC0C,EAAUzI,SAAS+F,eAAe,aAClCI,EAAUnG,SAAS+F,eAAe,cAClC+E,EAAW9K,SAAS+F,eAAe,kBACnCY,EAAa3G,SAAS+F,eAAe,iBAE3C6E,EAAUG,iBAAiB,QAASlH,GACpCgH,EAASE,iBAAiB,QAASlH,GAG/BiH,GACFA,EAASC,iBAAiB,QAAUvK,IAClCA,EAAEwK,kBACFjE,MAKe/G,SAASiL,iBAAiB,wBAClCvF,QAAQwF,IACjBA,EAAIH,iBAAiB,QAAUvK,IAE7BR,SAASiL,iBAAiB,wBAAwBvF,QAAQyF,GAAKA,EAAE/E,UAAUU,OAAO,WAClFtG,EAAE4K,OAAOhF,UAAUC,IAAI,UAIvB,MAAMf,EAAW9E,EAAE4K,OAAOC,QAAQ/F,SAClC1F,QAAQC,IAAI,qBAAsByF,OAItCmD,EAAQsC,iBAAiB,QAAS,KAChCzC,EAAYnC,EAAQmF,OACpBnF,EAAQmF,MAAQ,GAChBnF,EAAQG,MAAMiF,OAAS,OACvB/H,MAGF2C,EAAQ4E,iBAAiB,UAAYvK,IACnCgD,IACc,UAAVhD,EAAEgL,KAAoBhL,EAAEiL,WAC1BjL,EAAEkL,iBACFpD,EAAYnC,EAAQmF,OACpBnF,EAAQmF,MAAQ,GAChBnF,EAAQG,MAAMiF,OAAS,UAK3BpF,EAAQ4E,iBAAiB,QAAS,KAChC5E,EAAQG,MAAMiF,OAAS,OACvBpF,EAAQG,MAAMiF,OAASrI,KAAKmB,IAAI8B,EAAQU,aAAc,KAAO,KAC7DrD,MAIFmD,EAAWoE,iBAAiB,SAAU,KACpCvH,MAIFxD,SAAS+K,iBAAiB,QAAUvK,IAClC,MAAMwG,EAAShH,SAAS+F,eAAe,qBACjC+E,EAAW9K,SAAS+F,eAAe,kBAErCpD,GAAmBqE,IAAWA,EAAO2E,SAASnL,EAAE4K,SAAWN,IAAaA,EAASa,SAASnL,EAAE4K,SAC9FrE,KAGN,CAuBE6E,GAxGmB5L,SAAS+F,eAAe,iBAChClB,UAAY,GAEvBvC,EAAYoD,QAAQmG,IAClBjI,EAAWiI,EAAI5E,KAAM4E,EAAI3E,SAAS,KAuGpCtH,QAAQC,IAAI,2BAGZ6D,WAAW,KACJtB,GAAWyF,aAAawC,QAAQ,qBAGnCxG,KAED,IACL,CAtiCAnD,OAAOoL,kBAAoB,WACzBtI,GAIF,EAEA9C,OAAOqL,aAAe,YA1DtB,WACE,IACElE,aAAamE,WAAWnL,EAAOY,WAAa,IAAMZ,EAAOC,UACzDwB,EAAc,GACdC,EAAYU,IACZ,MAAM0D,EAAa3G,SAAS+F,eAAe,iBACvCY,IAAYA,EAAW9B,UAAY,GACzC,CAAE,MAAOrE,GACPZ,QAAQyJ,MAAM,gCAChB,CACF,CAiDE4C,GACApI,GACF,EAupBAnD,OAAOwL,iBAAmB,SAAUvG,GAClC,MAAMQ,EAAUnG,SAAS+F,eAAe,cAClCoG,EAAQhG,EAAQiG,eAChBC,EAAMlG,EAAQmG,aACdhF,EAAOnB,EAAQmF,MACfiB,EAASjF,EAAKK,UAAU,EAAGwE,GAC3BK,EAAQlF,EAAKK,UAAU0E,EAAK/E,EAAKnH,QAEvCgG,EAAQmF,MAAQiB,EAAS5G,EAAQ6G,EACjCrG,EAAQiG,eAAiBjG,EAAQmG,aAAeH,EAAQxG,EAAMxF,OAC9DgG,EAAQO,QAERlD,IAGA2C,EAAQsG,cAAc,IAAIC,MAAM,SAClC,EAwX4B,YAAxB1M,SAAS2M,WACX3M,SAAS+K,iBAAiB,mBAAoBzB,GAE9CA,GAEH,CAvxCD","ignoreList":[]}